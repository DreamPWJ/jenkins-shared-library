#!groovy
@Library('jenkins-shared-library@dev') _

/**
 * @author æ½˜ç»´å‰
 * @description æ ¸å¿ƒPipelineä»£ç  é’ˆå¯¹Unityé¡¹ç›®CI/CDçš„è„šæœ¬
 * æ³¨æ„ æœ¬æ–‡ä»¶åœ¨Gitä½ç½®å’Œåç§°ä¸èƒ½éšä¾¿æ”¹åŠ¨ é…ç½®åœ¨jenkinsé‡Œ
 */
// Pipelineéœ€è¦å®‰è£…çš„æ’ä»¶

// æ ¹æ®ä¸åŒç¯å¢ƒé¡¹ç›®é…ç½®ä¸åŒå‚æ•°
def map = [:]

// ä¿æŒæ„å»ºçš„æœ€å¤§ä¸ªæ•°
map.put('build_num_keep', 1)

// é»˜è®¤è¦æ„å»ºçš„Gitåˆ†æ”¯
map.put('default_git_branch', 'master')

// æ˜¯å¦éæ­£å¼ç¯å¢ƒè®¾ç½®Appçš„iconå›¾æ ‡å¾½ç«  æ˜“äºåŒºåˆ†ç¯å¢ƒå’Œç‰ˆæœ¬
map.put('is_icon_add_badge', false)
// æ˜¯å¦Pipelineå†…è„šæœ¬é’‰é’‰é€šçŸ¥  æ€»å¼€å…³
map.put('is_ding_notice', false)
// æ˜¯å¦é€šçŸ¥å˜æ›´è®°å½•
map.put('is_notice_change_log', false)
// æ˜¯å¦åœ¨ç”Ÿäº§ç¯å¢ƒå‘å¸ƒæˆåŠŸåè‡ªåŠ¨ç»™Gitä»“åº“æ‰“Tagç‰ˆæœ¬å’Œç”Ÿæˆå˜æ›´è®°å½•
map.put('is_git_tag', false)

// é¡¹ç›®æ ‡ç­¾æˆ–é¡¹ç›®ç®€ç§°
map.put('project_tag', ' ')

// åˆ†å‘å¹³å°è´¦å·
map.put('pgyer_api_key', "a06ee74d4063eb58b7fed20e7fde6306")

// jenkinsåˆ†å¸ƒå¼æ„å»ºèŠ‚ç‚¹åç§°
map.put('jenkins_node', 'linux')

// æ„å»ºç¯å¢ƒå˜é‡
map.put('jdk', '8')

// ç›¸å…³ä¿¡ä»»æ ‡è¯†
map.put('ci_git_credentials_id', '45392b97-5c21-4451-b323-bbf104f70e51')
map.put('git_credentials_id', '45392b97-5c21-4451-b323-bbf104f70e51')
map.put('ding_talk_credentials_id', '0d24aab8-f1ec-44eb-8e4f-71de9ecd25d5') // æ”¯æŒå¤šä¸ªç¾¤é€šçŸ¥ é€—å·,åˆ†å‰² ä¸è¦ç©ºæ ¼

// Androidåº”ç”¨å•†åº—æ¸ é“å·
map.put('android_store_identify', "lexiang\nhuawei\nxiaomi\noppo\nvivo\nsansumg\nmeizu")

// Androidåº”ç”¨å•†åº—è‡ªåŠ¨åŒ–å®¡æ ¸ä¸Šæ¶
map.put('huawei_app_gallery_client_id', "584688991383585984")
map.put('huawei_app_gallery_client_secret', "5A8DB0038D055A2A6FB7454885381E54FC6EBB38DE18734C07C739408671A8FB")
map.put('xiaomi_market_user_name', "775363390@qq.com")

// Apple Storeç›¸å…³ä¿¡æ¯
map.put('apple_id', "panweiji666@163.com")
map.put('apple_password', "panweiji2021")
map.put('apple_team_id', "C45WYAFLWA")

// App Store Connect APIç›¸å…³ä¿¡æ¯
map.put('apple_store_connect_api_key_id', "BNL32GR27G")
map.put('apple_store_connect_api_issuer_id', "a0cae47e-ca4b-4503-a967-4282302c0c5a")
map.put('apple_store_connect_api_key_file_path', "/Library/AuthKey_BNL32GR27G.p8")

// iOSå®¡æ ¸ä¿¡æ¯
map.put('ios_review_first_name', "é«˜")
map.put('ios_review_last_name', "æ´‹")
map.put('ios_review_phone_number', "+86 15063309617")
map.put('ios_review_email_address', "525407426@qq.com")

// è°ƒç”¨æ ¸å¿ƒé€šç”¨Pipeline
appSharedLibrary(map)


// ---------------------------------------------------------------------------------------------------------------------

// https://github.com/DreamPWJ/jenkins-shared-library.git  Jenkinsfile.lexiang-unity

/*

boat-attack-unity
èµ›è‰‡æ¯”èµ›Unityæ¸¸æˆ  ğŸ†
JSON_PARAMS:
{
    "PROJECT_TYPE" : "5",
    "REPO_URL" : "https://gitee.com/dang050/BoatAttack.git",
    "BUILD_SYSTEM_TYPES" : "Android,iOS",
    "IOS_APP_IDENTIFIER" : "com.unity.boatattackpanweiji",
    "IOS_PROJECT_LEVEL_DIR": "",
    "IOS_SCHEME_NAME": "Unity-iPhone"
}

*/
